<openerp>
    <data>
        <report id="report_childpack_full"
                model="compassion.child"
                string="Full Childpack"
                report_type="qweb-pdf"
                name="partner_communication_switzerland.childpack_full"
        />
        <record id="report_childpack_full" model="ir.actions.report.xml">
            <field name="paperformat_id" ref="paperformat_childpack"/>
        </record>

        <template id="childpack_full">
            <t t-call="report.html_container">
                <t t-foreach="docs" t-as="o">
                    <div class="childpack-full page">
                       <div class="local_id">
                            <span t-field="o.local_id"/>
                        </div>
                        <div class="desc">
                            <span t-raw="o.description" class="left"/>
                            <div class="right">
                                <h6><span t-field="o.project_title"/></h6>
                                <span t-raw="o.project_id.description"/>
                            </div>
                        </div>
                        <div class="title">
                            <t t-if="o.gender == 'M'">
                                <h1><span t-field="o.firstname" class="boy"/></h1>
                            </t>
                            <t t-if="o.gender == 'F'">
                                <h1><span t-field="o.firstname" class="girl"/></h1>
                            </t>
                        </div>
                        <div class="photo">
                            <span t-field="o.fullshot" t-field-options='{"widget": "image"}'/>
                        </div>
                        <div class="summary">
                            <p>Full name:</p>
                            <p t-field="o.name" class="summary_field"/>
                            <p>Birthday:</p>
                            <p t-field="o.birthdate" class="summary_field"/>
                            <p>Country:</p>
                            <p t-field="o.project_id.country_id.name" class="summary_field"/>
                            <p>Child reference:</p>
                            <p t-field="o.local_id" class="summary_field"/>
                        </div>
                    </div>
                </t>
            </t>
        </template>

        <!-- Override general report layout to add custom css -->
        <template id="childpack_full_style" inherit_id="report.style">
            <xpath expr=".">
                <t>
                    /* Remove padding of reports to allow precise positionning */
                    .container {
                        padding: 0mm;
                        font-family: "tetriaLight";
                        font-size: 8pt;
                    }

                    /* Declare Tetria fonts */
                    @font-face {
                        font-family: tetria;
                        src: url(/partner_communication_switzerland/static/src/font/TetriaLTComBlack.ttf);
                    }
                    @font-face {
                        font-family: tetriaBold;
                        src: url(/partner_communication_switzerland/static/src/font/TetriaLTComBold.ttf);
                    }
                    @font-face {
                        font-family: tetriaLight;
                        src: url(/partner_communication_switzerland/static/src/font/TetriaLTComLight.ttf);
                    }

                    .childpack-full .local_id {
                        position: absolute;
                        margin-left: 75mm;
                        margin-top: 35mm;
                    }
                    .childpack-full .desc {
                        position: absolute;
                        margin-left: 139mm;
                        margin-top: 42mm;
                        width: 120mm;
                        height: 116mm;
                        max-height: 116mm;
                        font-size: x-small;
                        column-count: 2;
                        -webkit-column-count: 2; /* Chrome, Safari, Opera */
                        -moz-column-count: 2; /* Firefox */
                        column-gap: 10mm;
                    }
                    .childpack-full .desc .left {
                        width: 55mm;
                        max-width: 100%;
                    }
                    .childpack-full .desc .right {
                        width: 55mm;
                        max-width: 100%;
                        position: absolute;
                        left: 70mm;
                        top: 0mm;
                    }
                    .childpack-full .desc table {
                        width: 55mm;
                    }
                    .childpack-full .desc td:first-child {
                        padding-right: 5mm;
                    }
                    .childpack-full h6 {
                        font-size: small;
                    }
                    .childpack-full .title {
                        position: absolute;
                        margin-left: 310mm;
                        margin-top: 55mm;
                    }
                    .childpack-full .boy {
                        color: #02728e;
                    }
                    .childpack-full .girl {
                        color: #af0ea2;
                    }
                    .childpack-full .photo {
                        position: absolute;
                        margin-left: 300mm;
                        margin-top: 85mm;
                        width: 70mm;
                        height: 90mm;
                    }
                    .childpack-full .photo img {
                        max-width: 100%;
                        max-height: 100%;
                        margin: auto;
                    }
                    .childpack-full .summary {
                        position: absolute;
                        margin-left: 377mm;
                        margin-top: 95mm;
                    }
                    .childpack-full .summary_field {
                        font-weight: bold;
                    }
                    /* Comma separated lists */
                    .childpack-full ul {
                      display: inline;
                      list-style: none;
                    }

                    .childpack-full li {
                      display: inline;
                    }

                    .childpack-full li:after {
                      content: ", ";
                    }

                    .childpack-full li:last-child:after {
                      content: "";
                    }
                </t>
            </xpath>
        </template>
    </data>
</openerp>
